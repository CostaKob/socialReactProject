{"version":3,"sources":["assets/images/user.png","Components/Navbar/Navbar.module.css","redux/dialogs-reducer.js","assets/images/preloader.svg","api/api.js","Components/Header/Header.jsx","redux/auth-reducer.js","Components/Header/HeaderContainer.jsx","Components/Navbar/Navbar.jsx","Components/News/News.jsx","Components/Music/Music.jsx","Components/Settings/Settings.jsx","utils/objects-helpers.js","redux/users-reducer.js","Components/Common/Paginator/Paginator.jsx","Components/Users/User.jsx","Components/Users/Users.jsx","redux/users-selectors.js","Components/Users/UsersContainer.jsx","Components/Login/Login.jsx","redux/app-reducer.js","redux/sideBar-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","index.js","Components/Common/FormsControls/FormsControls.js","Components/Common/Preloader/Preloader.js","Components/Common/FormsControls/FormsControls.module.css","utils/validators/validators.js","Components/Users/Users.module.css","Components/Header/Header.module.css","Components/Common/Paginator/Paginator.module.css","redux/profile-reducer.js"],"names":["module","exports","initialState","messages","id","message","dialogs","name","addMessageActionCreator","newMessageBody","type","dialogsReducer","state","action","text","instance","axios","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileApi","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","Header","props","className","classes","header","src","loginBlock","isAuth","onClick","to","setAuthUserData","payload","getAuthUserData","dispatch","a","resultCode","authReducer","HeaderContainer","this","React","Component","connect","auth","Navbar","nav","item","activeClassName","active","News","Music","Settings","updateObjectInArray","items","itemId","objPropName","newObjProps","map","i","FOLLOW","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingInProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","filter","Paginator","totalItemsCount","onPageChange","portionSize","pagesCount","Math","ceil","pages","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","p","e","selectedPage","User","user","photos","small","userPhoto","disabled","some","Users","u","key","getIsFetching","usersPage","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getFollowingInProgress","UsersContainer","pageNumber","setCurrentPage","requestUsers","Preloader","compose","bind","totalCount","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","required","Input","formSummaryError","length","stopSubmit","_error","formData","initialized","appReducer","friends","img","sideBarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sideBar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","SamuraiJSApp","ReactDOM","document","getElementById","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","child","placeholder","validators","component","validate","preloader","value","maxLengthCreator","maxLength","ADD_POST","posts","likesCount","profile","addPostActionCreator","newPostBody","setStatusActionCreator","getUserProfileThunk","getStatusThunk","updateStatusThunk","newPost","postId"],"mappings":"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","file":"static/js/main.ed54d3f3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/user.129ab51c.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2nrb7\",\"item\":\"Navbar_item__1ZthA\",\"active\":\"Navbar_active__xnuAk\",\"friendsBarContent\":\"Navbar_friendsBarContent__1dTfj\",\"friendsBar\":\"Navbar_friendsBar__2E-Jy\",\"friendsBarHeader\":\"Navbar_friendsBarHeader__35hjR\"};","const ADD_MESSAGE = 'dialogs/ADD-MESSAGE';\r\n\r\nlet initialState = {\r\n    messages: [\r\n        { id: 1, message: \"Hi, how are you ?\" },\r\n        { id: 2, message: \"What's up ?\" },\r\n        { id: 3, message: \"Hello world !\" },\r\n        { id: 4, message: \"My name is Costa\" },\r\n        { id: 5, message: \"Whaaaat!??\" },\r\n        { id: 6, message: \"Yo yo yo!!\" }\r\n    ],\r\n    dialogs: [\r\n        { id: 1, name: 'Costa' },\r\n        { id: 2, name: 'Darya' },\r\n        { id: 3, name: 'Yuli' },\r\n        { id: 4, name: 'Diana' },\r\n        { id: 5, name: 'Vasya' },\r\n        { id: 6, name: 'Petya' }\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case ADD_MESSAGE: \r\n            let text = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: text}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addMessageActionCreator = (newMessageBody) => ({\r\n    type: ADD_MESSAGE,\r\n    newMessageBody\r\n});\r\n\r\nexport default dialogsReducer;","module.exports = __webpack_public_path__ + \"static/media/preloader.49c8c1d4.svg\";","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"b06971d9-611c-48a0-b181-a32de5e059d3\"\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n                .then (response => response.data);\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n        .then (response => response.data);\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n        .then (response => response.data);\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('obsolete method. Please use profileAPI object')\r\n        return profileApi.getProfile(userId);\r\n    }\r\n};\r\n\r\nexport const profileApi = {\r\n\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status: status }); // can be just {status} instead {status: status}\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me/`);\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login/`, {email, password, rememberMe});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login/`);\r\n    }\r\n\r\n};","import React from 'react';\r\nimport classes from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={classes.header}>\r\n      <img src=\"http://www.wpkixx.com/html/winku-dark/images/logo2.png\" />\r\n      <div className={classes.loginBlock}>\r\n        {props.isAuth \r\n          ? <div>Hello, {props.login} <button onClick={props.logout}>Logout</button></div>\r\n          : <NavLink to={'/login'}>Login</NavLink>}\r\n      </div>\r\n    </header>\r\n  );\r\n\r\n}\r\n\r\nexport default Header;","import {authAPI} from '../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\nconst SET_USER_DATA = 'auth/SET-USER-DATA';\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth:false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//action creator\r\nexport const setAuthUserData = (id, email, login, isAuth) => ({ type: SET_USER_DATA, payload: { id, email, login, isAuth } });\r\n//thunks\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n\r\n  let response = await authAPI.me()\r\n  if (response.data.resultCode === 0) {\r\n    let { id, email, login } = response.data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n\r\n  let response = await authAPI.login(email, password, rememberMe);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getAuthUserData());\r\n  } else {\r\n    let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n    dispatch(stopSubmit('login', { _error: message }));\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\r\n  let response = await authAPI.logout()\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n};\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../redux/auth-reducer';\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  render() {\r\n    return <Header {...this.props} />\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);","\r\nimport React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport FriendsBar from './FriendsBar/FriendsBar';\r\n\r\nconst Navbar = () => {\r\n\r\n// let friendsElements =\r\n//     store.state.sideBar.friends.map( f => <FriendsBar name={f.name} id={f.id} img={f.img} /> );\r\n\r\n  return (\r\n      <nav className={classes.nav}>\r\n        <div className={classes.item}>\r\n          <NavLink to=\"/profile\" activeClassName={classes.active}>Profile</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <NavLink to=\"/dialogs\" activeClassName={classes.active}>Messages</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <NavLink to=\"/news\" activeClassName={classes.active}>News</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <NavLink to=\"/music\" activeClassName={classes.active}>Music</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <NavLink to=\"/settings\" activeClassName={classes.active}>Settings</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <NavLink to=\"/users\" activeClassName={classes.active}>Users</NavLink>\r\n        </div>\r\n        {/* <div className={classes.friendsBarHeader}>\r\n          <h3>My Friends</h3>\r\n        </div>\r\n          <div className={classes.friendsBarContent}>\r\n            {friendsElements}\r\n          </div> */}\r\n      </nav>\r\n  );\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport classes from './News.module.css';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport classes from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport classes from './Settings.module.css';\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","\r\nexport const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map( (i) => {\r\n        if( i[objPropName] === itemId ) {\r\n            return {...i, ...newObjProps}\r\n        }\r\n        return i;\r\n    })\r\n}\r\n\r\n","import {usersAPI} from '../api/api';\r\nimport {updateObjectInArray} from '.././utils/objects-helpers';\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_USERS = 'users/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET-TOTAL-USERS-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE-IS-FETCHING';\r\nconst TOGGLE_FOLLOWING_IN_PROGRESS = 'users/TOGGLE-FOLLOWING-IN-PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            };\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n                // Refactoring in utils/object-helpers.js\r\n                \r\n                // users: state.users.map( (user) => {\r\n                //     if( user.id === action.userId ) {\r\n                //         return {...user, followed: false};\r\n                //     }\r\n                //     return user;\r\n                // })\r\n            };\r\n        case SET_USERS: {\r\n            return { ...state, users: action.users };\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return { ...state, currentPage: action.currentPage };\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return { ...state, totalUsersCount: action.totalUsersCount };\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching };\r\n        }\r\n        case TOGGLE_FOLLOWING_IN_PROGRESS: {\r\n            return { ...state,\r\n                        followingInProgress: action.isFetching \r\n                        ? [...state.followingInProgress, action.userId]\r\n                        : state.followingInProgress.filter(id => id !== action.userId)\r\n                    };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n// Action creators\r\n\r\nexport const followSuccess = (userId) => ( {type: FOLLOW, userId} );\r\nexport const unfollowSuccess = (userId) => ( {type: UNFOLLOW, userId} );\r\nexport const setUsers = (users) => ( {type: SET_USERS, users} );\r\nexport const setCurrentPage = (currentPage) => ( {type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ( {type: SET_TOTAL_USERS_COUNT, totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ( {type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingInProgress = (isFetching, userId) => ( {type: TOGGLE_FOLLOWING_IN_PROGRESS, isFetching, userId});\r\n\r\n// Thunks\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n\r\n        let data = await usersAPI.getUsers(currentPage, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    };\r\n};\r\n\r\n// Avoiding code dublication\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\r\n    dispatch(toggleFollowingInProgress(true, userId)); //button disabled\r\n\r\n    let data = await apiMethod(userId);\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingInProgress(false, userId)); // button enabled\r\n};\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.follow.bind(usersAPI);\r\n        let actionCreator = followSuccess;\r\n        followUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\r\n    };\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.unfollow.bind(usersAPI);\r\n        let actionCreator = unfollowSuccess;\r\n        followUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\r\n    };\r\n};\r\n\r\nexport default usersReducer;","import React, { useState } from 'react';\r\nimport classes from './Paginator.module.css';\r\n\r\nexport const Paginator = ({ totalItemsCount, pageSize, currentPage, onPageChange, portionSize=10 }) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={classes.paginator}>\r\n            { portionNumber > 1 &&\r\n            <button onClick={ () => {setPortionNumber(portionNumber - 1) }}>Prev</button>}\r\n        \r\n            {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map(p => { \r\n                    return <span onClick={(e) => {\r\n                        onPageChange(p)\r\n                    }}\r\n                        className={currentPage === p && classes.selectedPage}>\r\n                        {p + \" \"}\r\n                    </span>\r\n                \r\n            })}\r\n            { portionCount > portionNumber &&\r\n            <button onClick={ () => {setPortionNumber(portionNumber + 1) }}>Next</button>}\r\n        </div>\r\n    )\r\n};","import React from 'react';\r\nimport classes from './Users.module.css';\r\nimport userPhoto from '../../assets/images/user.png';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nlet User = ({ user, followingInProgress, follow, unfollow }) => {\r\n    return (\r\n        <div>\r\n            <span>\r\n                <NavLink to={'/profile/' + user.id} className={classes.user}>\r\n                    <img src={user.photos.small != null ? user.photos.small : userPhoto} />\r\n                </NavLink>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            unfollow(user.id)\r\n                        }}>Unfollow</button>\r\n                        : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            follow(user.id)\r\n                        }}>Follow</button>\r\n                    }\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <div>{user.name}</div>\r\n            </span>\r\n        </div >\r\n\r\n    )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport classes from './Users.module.css';\r\nimport { Paginator } from '../Common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\nlet Users = ({ currentPage, onPageChange, totalUsersCount, pageSize, users, ...props }) => {\r\n\r\n    return (\r\n        <div>\r\n            <Paginator currentPage={currentPage}\r\n                onPageChange={onPageChange}\r\n                totalItemsCount={totalUsersCount}\r\n                pageSize={pageSize} />\r\n            <div>\r\n                {\r\n                    users.map((u) => <User user={u}\r\n                        followingInProgress={props.followingInProgress}\r\n                        key={u.id}\r\n                        unfollow={props.unfollow}\r\n                        follow={props.follow} />\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","// MSTP постоянно запускается с каждым изменением STATE!!!\r\n\r\nimport { createSelector } from \"reselect\";\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersPage.users; \r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true);\r\n});\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n};\r\n\r\n\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n};","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { follow, requestUsers, setCurrentPage, toggleFollowingInProgress, unfollow } from '../../redux/users-reducer';\r\nimport Preloader from '../Common/Preloader/Preloader';\r\nimport Users from './Users';\r\nimport { getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress} from '../../redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let {currentPage, pageSize} = this.props;\r\n        this.props.requestUsers(currentPage, pageSize);\r\n        \r\n    }\r\n\r\n    onPageChange = (pageNumber) => {\r\n        let {pageSize} = this.props;\r\n        this.props.setCurrentPage(pageNumber);\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n    }\r\n    \r\n    render() {\r\n\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChange={this.onPageChange}\r\n                users={this.props.users}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    };\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { follow, unfollow, setCurrentPage, toggleFollowingInProgress, requestUsers })\r\n) (UsersContainer)","import React from 'react';\r\nimport classes from '../Common/FormsControls/FormsControls.module.css';\r\nimport { reduxForm } from 'redux-form';\r\nimport { Input, createField } from '../Common/FormsControls/FormsControls';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(\"E-mail\", \"email\", [required], Input)}\r\n            {createField(\"Password\", \"password\", [required], Input, { type: \"password\" })}\r\n            {createField(null, \"rememberMe\", [], Input, { type: \"checkbox\" }, \"Remember Me\")}\r\n\r\n            {error && <div className={classes.formSummaryError}>{error}</div>}\r\n\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm) // <----handleSubmit in props\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login Page</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, { login })(Login);","import { getAuthUserData } from './auth-reducer';\r\n\r\nconst INITIALIZED_SUCCESS = 'app/INITIALIZED-SUCCESS';\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  let promise = dispatch(getAuthUserData());\r\n  promise.then( () => {\r\n    dispatch(initializedSuccess())\r\n  });\r\n};\r\n\r\nexport default appReducer;","let initialState = {\r\n    friends: [\r\n        { id: 100, name: 'Darya', img: 'https://www.kindpng.com/picc/b/163/1636340.png' },\r\n        { id: 200, name: 'Diana', img: 'https://www.kindpng.com/picc/b/163/1636340.png' },\r\n        { id: 300, name: 'Yuli', img: 'https://www.kindpng.com/picc/b/163/1636340.png' }\r\n    ]\r\n};\r\n\r\nconst sideBarReducer = (state = initialState, action) => {\r\n    \r\n    return state;\r\n};\r\n\r\nexport default sideBarReducer;","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sideBarReducer from \"./sideBar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sideBar: sideBarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nwindow.__store__ = store;\r\nexport default store;","import React, { Suspense } from 'react';\r\nimport Preloader from '../Components/Common/Preloader/Preloader';\r\n\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n            return <Suspense fallback={<div><Preloader /></div>}>\r\n              <Component {...props} />\r\n            </Suspense>\r\n          }\r\n    };","import React, { Suspense } from 'react';\nimport './App.css';\nimport HeaderContainer from './Components/Header/HeaderContainer';\nimport Navbar from './Components/Navbar/Navbar';\nimport News from './Components/News/News';\nimport Music from './Components/Music/Music';\nimport Settings from './Components/Settings/Settings';\nimport { Route, withRouter, HashRouter } from 'react-router-dom';\nimport UsersContainer from './Components/Users/UsersContainer';\nimport Login from './Components/Login/Login';\nimport { initializeApp } from './redux/app-reducer';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport Preloader from './Components/Common/Preloader/Preloader';\nimport store from './redux/redux-store';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { withSuspense } from './hoc/withSuspense';\n// import DialogsContainer from './Components/Dialogs/DialogsContainer';\n// import ProfileContainer from './Components/Profile/ProfileContainer';\nconst DialogsContainer = React.lazy(() => import('./Components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./Components/Profile/ProfileContainer'));\n\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />\n    }\n    return (\n      <div className='app-wrapper'>\n        <HeaderContainer />\n        <Navbar />\n\n        <div className='app-wrapper-content'>\n\n          <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)} />\n          <Route path='/dialogs' render={withSuspense(DialogsContainer)} />\n          \n          <Route path='/users' render={() => <UsersContainer />} />\n\n          <Route path='/news' render={() => <News />} />\n\n          <Route path='/music' render={() => <Music />} />\n\n          <Route path='/settings' render={() => <Settings />} />\n\n          <Route path='/login' render={() => <Login />} />\n\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => ({\n\n  initialized: state.app.initialized\n\n})\nconst AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, { initializeApp }))(App);\n\nconst SamuraiJSApp = (props) => {\n  return (\n    <HashRouter>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </HashRouter>\n  )\n}\n\nexport default SamuraiJSApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport SamuraiJSApp from './App';\nimport './index.css';\n\nReactDOM.render(<SamuraiJSApp />,document.getElementById('root'));\n\n\n","import React from 'react';\r\nimport classes from './FormsControls.module.css';\r\nimport { Field } from 'redux-form';\r\n\r\n\r\nconst FormControl = ({ input, meta: {touched, error}, children }) => {\r\n\r\n    const hasError = error && touched;\r\n\r\n    return (\r\n        <div className={classes.formControl + \" \" + (hasError ? classes.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props=[], text=\"\") => (\r\n        <div>\r\n            <Field placeholder={placeholder}\r\n                name={name}\r\n                validate={validators}\r\n                component={component}\r\n                {...props}\r\n                />{text}\r\n        </div>\r\n)\r\n","import React from 'react';\r\nimport preloader from '../../../assets/images/preloader.svg';\r\n\r\nconst Preloader = (props) => {\r\n    return <div><img src={preloader} /></div>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__2AxtE\",\"error\":\"FormsControls_error__2cKMa\",\"formSummaryError\":\"FormsControls_formSummaryError__1BPXs\"};","export const required = value => {\r\n    if (value) return undefined;\r\n\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max Length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"Users_user__3H5ez\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1BfEJ\",\"loginBlock\":\"Header_loginBlock__DRZ9P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__3Eh0r\"};","import { usersAPI, profileApi } from '../api/api';\r\n\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst SET_USER_PROFILE = 'profile/SET-USER-PROFILE';\r\nconst SET_STATUS = 'profile/SET-STATUS';\r\nconst DELETE_POST = 'profile/DELETE-POST';\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, message: \"Hi, how are you?\", likesCount: '15' },\r\n        { id: 2, message: \"It is my first post\", likesCount: '20' },\r\n        { id: 3, message: \"Hi?\", likesCount: '0' },\r\n        { id: 4, message: \"yo yo yo\", likesCount: '12' }\r\n    ],\r\n    profile: null,\r\n    status:\"\"\r\n\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostBody,\r\n                likesCount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost]\r\n            };\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        case DELETE_POST:\r\n        return {\r\n            ...state,\r\n            posts: state.posts.filter(p => p.id != action.postId)\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//action creators\r\nexport const addPostActionCreator = (newPostBody) => ({\r\n    type: ADD_POST,\r\n    newPostBody\r\n});\r\n\r\nexport const setUserProfileActionCreator = (profile) => ({\r\n    type: SET_USER_PROFILE,\r\n    profile\r\n});\r\n\r\nexport const setStatusActionCreator = (status) => ({\r\n    type: SET_STATUS,\r\n    status\r\n});\r\n\r\n\r\nexport const deletePostActionCreator = (postId) => ({\r\n    type: DELETE_POST,\r\n    postId\r\n});\r\n\r\n// Thunks\r\n\r\nexport const getUserProfileThunk = (userId) => async (dispatch) => {\r\n\r\n    let response = await usersAPI.getProfile(userId)\r\n    dispatch(setUserProfileActionCreator(response.data));\r\n};\r\n\r\nexport const getStatusThunk = (userId) => async (dispatch) => {\r\n\r\n    let response = await profileApi.getStatus(userId)\r\n    dispatch(setStatusActionCreator(response.data));\r\n};\r\n\r\nexport const updateStatusThunk = (status) => async (dispatch) => {\r\n\r\n    let response = await profileApi.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatusActionCreator(status));\r\n    }\r\n};\r\n\r\nexport default profileReducer;"],"sourceRoot":""}