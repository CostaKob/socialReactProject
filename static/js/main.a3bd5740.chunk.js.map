{"version":3,"sources":["api/api.js","assets/images/user.png","redux/dialogs-reducer.js","assets/images/preloader.svg","Components/Footer/Footer.module.css","Components/Navbar/Navbar.module.css","Components/Common/FormsControls/FormsControls.js","Components/Common/FormsControls/FormsControls.module.css","Components/Header/Header.jsx","redux/auth-reducer.js","Components/Header/HeaderContainer.jsx","Components/Navbar/Navbar.jsx","Components/News/News.jsx","Components/Music/Music.jsx","Components/Settings/Settings.jsx","utils/objects-helpers.js","redux/users-reducer.js","Components/Common/Paginator/Paginator.jsx","Components/Users/User.jsx","Components/Users/Users.jsx","redux/users-selectors.js","Components/Users/UsersContainer.jsx","Components/Login/Login.jsx","redux/app-reducer.js","redux/sideBar-reducer.js","redux/redux-store.js","hoc/withSuspense.js","Components/Footer/Footer.jsx","App.js","index.js","Components/Common/Preloader/Preloader.js","Components/Header/Header.module.css","utils/validators/validators.js","Components/Common/Paginator/Paginator.module.css","Components/Users/Users.module.css","redux/profile-reducer.js"],"names":["instance","axios","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileApi","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","module","exports","initialState","messages","id","message","dialogs","name","addMessageActionCreator","newMessageBody","type","dialogsReducer","state","action","text","FormControl","input","meta","touched","error","children","hasError","className","classes","formControl","Textarea","props","restProps","child","Input","createField","placeholder","validators","component","inputs","validate","fieldText","Header","isAuth","headerData","src","headerSearch","href","loginBlock","onClick","to","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","dispatch","a","resultCode","url","authReducer","HeaderContainer","header","this","React","Component","connect","auth","Navbar","nav","item","activeClassName","active","News","Music","Settings","updateObjectInArray","items","itemId","objPropName","newObjProps","map","i","FOLLOW","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingInProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","filter","Paginator","totalItemsCount","onPageChange","portionSize","pagesCount","Math","ceil","pages","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","p","e","selectedPage","pageNumbers","User","user","photos","small","userPhoto","disabled","some","Users","u","key","getIsFetching","usersPage","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getFollowingInProgress","UsersContainer","pageNumber","setCurrentPage","requestUsers","Preloader","compose","bind","totalCount","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","formSummaryError","loginBtn","length","stopSubmit","_error","loginForm","initialized","appReducer","friends","img","sideBarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sideBar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","fallback","Footer","footer","DialogsContainer","lazy","ProfileContainer","App","catchAllUnhandledErrors","promiseRejectionEvent","alert","initializeApp","addEventListener","removeEventListener","exact","path","render","AppContainer","withRouter","SamuraiJSApp","ReactDOM","document","getElementById","preloader","value","maxLengthCreator","maxLength","ADD_POST","posts","likesCount","addPostActionCreator","newPostBody","setStatusActionCreator","getUserProfileThunk","getStatusThunk","updateStatusThunk","file","getState","Promise","reject","newPost","postId"],"mappings":"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","file":"static/js/main.a3bd5740.chunk.js","sourcesContent":["import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"b06971d9-611c-48a0-b181-a32de5e059d3\"\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('obsolete method. Please use profileAPI object')\r\n        return profileApi.getProfile(userId);\r\n    }\r\n};\r\n\r\nexport const profileApi = {\r\n\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status: status }); // can be just {status} instead {status: status}\r\n    },\r\n    savePhoto(photoFile) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile);\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me/`);\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login/`, { email, password, rememberMe, captcha });\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login/`);\r\n    }\r\n\r\n};\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`);\r\n    }\r\n};","module.exports = __webpack_public_path__ + \"static/media/user.129ab51c.png\";","const ADD_MESSAGE = 'dialogs/ADD-MESSAGE';\r\n\r\nlet initialState = {\r\n    messages: [\r\n        { id: 1, message: \"Hi, how are you ?\" },\r\n        { id: 2, message: \"What's up ?\" },\r\n        { id: 3, message: \"Hello world !\" },\r\n        { id: 4, message: \"My name is Costa\" },\r\n        { id: 5, message: \"Whaaaat!??\" },\r\n        { id: 6, message: \"Yo yo yo!!\" }\r\n    ],\r\n    dialogs: [\r\n        { id: 1, name: 'Costa' },\r\n        { id: 2, name: 'Darya' },\r\n        { id: 3, name: 'Yuli' },\r\n        { id: 4, name: 'Diana' },\r\n        { id: 5, name: 'Vasya' },\r\n        { id: 6, name: 'Petya' }\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case ADD_MESSAGE: \r\n            let text = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: text}]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addMessageActionCreator = (newMessageBody) => ({\r\n    type: ADD_MESSAGE,\r\n    newMessageBody\r\n});\r\n\r\nexport default dialogsReducer;","module.exports = __webpack_public_path__ + \"static/media/preloader.49c8c1d4.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__laLIB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2nrb7\",\"item\":\"Navbar_item__1ZthA\",\"active\":\"Navbar_active__xnuAk\"};","import React from 'react';\r\nimport classes from './FormsControls.module.css';\r\nimport { Field } from 'redux-form';\r\n\r\n\r\nconst FormControl = ({ input, meta: {touched, error}, children }) => {\r\n\r\n    const hasError = error && touched;\r\n\r\n    return (\r\n        <div className={classes.formControl + \" \" + (hasError ? classes.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props=[], text=\"\") => (\r\n        <div className={classes.inputs}>\r\n            <Field placeholder={placeholder}\r\n                name={name}\r\n                validate={validators}\r\n                component={component}\r\n                {...props}\r\n                /><span className={classes.fieldText}>{text}</span>\r\n        </div>\r\n)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__2AxtE\",\"error\":\"FormsControls_error__2cKMa\",\"formSummaryError\":\"FormsControls_formSummaryError__1BPXs\",\"loginForm\":\"FormsControls_loginForm__3et7z\",\"inputs\":\"FormsControls_inputs__3JDUv\",\"fieldText\":\"FormsControls_fieldText__3fXGb\",\"loginBtn\":\"FormsControls_loginBtn__30kK2\"};","import React from 'react';\r\nimport classes from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = ({isAuth, login, logout}) => {\r\n\r\n  return (\r\n    <header className={classes.headerData}>\r\n      <img src=\"http://gambolthemes.net/workwise-new/images/logo.png\" />\r\n      <div className={classes.headerSearch}>\r\n        <input placeholder=\"Search...\"/>\r\n        <a href=\"#\"><i className=\"fa\">&#xf002;</i></a>\r\n      </div>\r\n      \r\n      <div className={classes.loginBlock}>\r\n        {isAuth\r\n          ? <div>Hello, {login} <button onClick={logout}>Logout</button></div>\r\n          : <NavLink to={'/login'}>Login</NavLink>}\r\n      </div>\r\n    </header>\r\n  );\r\n\r\n}\r\n\r\nexport default Header;","import {authAPI, securityAPI} from '../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\nconst SET_USER_DATA = 'auth/SET-USER-DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'auth/GET-CAPTCHA-URL-SUCCESS';\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth:false,\r\n    captchaUrl: null // if null then captcha is not required\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//action creator\r\nexport const setAuthUserData = (id, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: { id, email, login, isAuth }\r\n});\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n  type: GET_CAPTCHA_URL_SUCCESS,\r\n  payload: { captchaUrl }\r\n});\r\n\r\n//thunks\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n\r\n  let response = await authAPI.me()\r\n  if (response.data.resultCode === 0) {\r\n    let { id, email, login } = response.data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n};\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n\r\n  let response = await authAPI.login(email, password, rememberMe, captcha);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getAuthUserData());\r\n  } else {\r\n    if (response.data.resultCode === 10) {\r\n      dispatch(getCaptchaUrl());\r\n    }\r\n\r\n    let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n    dispatch(stopSubmit('login', { _error: message }));\r\n  }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n\r\n  let response = await securityAPI.getCaptchaUrl();\r\n  const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\r\n  let response = await authAPI.logout()\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n};\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../redux/auth-reducer';\r\nimport classes from './Header.module.css';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  render() {\r\n    return <div className={classes.header}>\r\n      <Header {...this.props} />\r\n    </div>\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);","\r\nimport React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n\r\n  return (\r\n      <nav className={classes.nav}>\r\n        <div className={classes.item}>\r\n          <NavLink to=\"/profile\" activeClassName={classes.active}>Profile</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <NavLink to=\"/dialogs\" activeClassName={classes.active}>Messages</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <NavLink to=\"/news\" activeClassName={classes.active}>News</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <NavLink to=\"/music\" activeClassName={classes.active}>Music</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <NavLink to=\"/settings\" activeClassName={classes.active}>Settings</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n          <NavLink to=\"/users\" activeClassName={classes.active}>Users</NavLink>\r\n        </div>\r\n      </nav>\r\n  );\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport classes from './News.module.css';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport classes from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport classes from './Settings.module.css';\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","\r\nexport const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map( (i) => {\r\n        if( i[objPropName] === itemId ) {\r\n            return {...i, ...newObjProps}\r\n        }\r\n        return i;\r\n    })\r\n}\r\n\r\n","import {usersAPI} from '../api/api';\r\nimport {updateObjectInArray} from '.././utils/objects-helpers';\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_USERS = 'users/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET-TOTAL-USERS-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE-IS-FETCHING';\r\nconst TOGGLE_FOLLOWING_IN_PROGRESS = 'users/TOGGLE-FOLLOWING-IN-PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            };\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n                // Refactoring in utils/object-helpers.js\r\n                \r\n                // users: state.users.map( (user) => {\r\n                //     if( user.id === action.userId ) {\r\n                //         return {...user, followed: false};\r\n                //     }\r\n                //     return user;\r\n                // })\r\n            };\r\n        case SET_USERS: {\r\n            return { ...state, users: action.users };\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return { ...state, currentPage: action.currentPage };\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return { ...state, totalUsersCount: action.totalUsersCount };\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching };\r\n        }\r\n        case TOGGLE_FOLLOWING_IN_PROGRESS: {\r\n            return { ...state,\r\n                        followingInProgress: action.isFetching \r\n                        ? [...state.followingInProgress, action.userId]\r\n                        : state.followingInProgress.filter(id => id !== action.userId)\r\n                    };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n// Action creators\r\n\r\nexport const followSuccess = (userId) => ( {type: FOLLOW, userId} );\r\nexport const unfollowSuccess = (userId) => ( {type: UNFOLLOW, userId} );\r\nexport const setUsers = (users) => ( {type: SET_USERS, users} );\r\nexport const setCurrentPage = (currentPage) => ( {type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ( {type: SET_TOTAL_USERS_COUNT, totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ( {type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingInProgress = (isFetching, userId) => ( {type: TOGGLE_FOLLOWING_IN_PROGRESS, isFetching, userId});\r\n\r\n// Thunks\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n\r\n        let data = await usersAPI.getUsers(currentPage, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    };\r\n};\r\n\r\n// Avoiding code dublication\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\r\n    dispatch(toggleFollowingInProgress(true, userId)); //button disabled\r\n\r\n    let data = await apiMethod(userId);\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingInProgress(false, userId)); // button enabled\r\n};\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.follow.bind(usersAPI);\r\n        let actionCreator = followSuccess;\r\n        followUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\r\n    };\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.unfollow.bind(usersAPI);\r\n        let actionCreator = unfollowSuccess;\r\n        followUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\r\n    };\r\n};\r\n\r\nexport default usersReducer;","import React, { useState } from 'react';\r\nimport classes from './Paginator.module.css';\r\n\r\nexport const Paginator = ({ totalItemsCount, pageSize, currentPage, onPageChange, portionSize=10 }) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={classes.paginator}>\r\n            { portionNumber > 1 &&\r\n            <button onClick={ () => {setPortionNumber(portionNumber - 1) }}>Prev</button>}\r\n        \r\n            {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map(p => { \r\n                    return <span onClick={(e) => {\r\n                        onPageChange(p)\r\n                    }}\r\n                        className={currentPage === p ? classes.selectedPage : classes.pageNumbers}>\r\n                        {p + \" \"}\r\n                    </span>\r\n                \r\n            })}\r\n            { portionCount > portionNumber &&\r\n            <button onClick={ () => {setPortionNumber(portionNumber + 1) }}>Next</button>}\r\n        </div>\r\n    )\r\n};","import React from 'react';\r\nimport classes from './Users.module.css';\r\nimport userPhoto from '../../assets/images/user.png';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nlet User = ({ user, followingInProgress, follow, unfollow }) => {\r\n    return (\r\n        <div>\r\n            <span>\r\n                <NavLink to={'/profile/' + user.id} className={classes.user}>\r\n                    <img src={user.photos.small != null ? user.photos.small : userPhoto} />\r\n                </NavLink>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            unfollow(user.id)\r\n                        }}>Unfollow</button>\r\n                        : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            follow(user.id)\r\n                        }}>Follow</button>\r\n                    }\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <div>{user.name}</div>\r\n            </span>\r\n        </div >\r\n\r\n    )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport classes from './Users.module.css';\r\nimport { Paginator } from '../Common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\nlet Users = ({ currentPage, onPageChange, totalUsersCount, pageSize, users, ...props }) => {\r\n\r\n    return (\r\n        <div>\r\n            <Paginator currentPage={currentPage}\r\n                onPageChange={onPageChange}\r\n                totalItemsCount={totalUsersCount}\r\n                pageSize={pageSize} />\r\n            <div>\r\n                {\r\n                    users.map((u) => <User user={u}\r\n                        followingInProgress={props.followingInProgress}\r\n                        key={u.id}\r\n                        unfollow={props.unfollow}\r\n                        follow={props.follow} />\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","// MSTP постоянно запускается с каждым изменением STATE!!!\r\n\r\nimport { createSelector } from \"reselect\";\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersPage.users; \r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true);\r\n});\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n};\r\n\r\n\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n};","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { follow, requestUsers, setCurrentPage, toggleFollowingInProgress, unfollow } from '../../redux/users-reducer';\r\nimport Preloader from '../Common/Preloader/Preloader';\r\nimport Users from './Users';\r\nimport { getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress} from '../../redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let {currentPage, pageSize} = this.props;\r\n        this.props.requestUsers(currentPage, pageSize);\r\n        \r\n    }\r\n\r\n    onPageChange = (pageNumber) => {\r\n        let {pageSize} = this.props;\r\n        this.props.setCurrentPage(pageNumber);\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n    }\r\n    \r\n    render() {\r\n\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChange={this.onPageChange}\r\n                users={this.props.users}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    };\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { follow, unfollow, setCurrentPage, toggleFollowingInProgress, requestUsers })\r\n) (UsersContainer)","import React from 'react';\r\nimport classes from '../Common/FormsControls/FormsControls.module.css';\r\nimport { reduxForm } from 'redux-form';\r\nimport { Input, createField } from '../Common/FormsControls/FormsControls';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(\"E-mail\", \"email\", [required], Input)}\r\n            {createField(\"Password\", \"password\", [required], Input, { type: \"password\" })}\r\n            {createField(null, \"rememberMe\", [], Input, { type: \"checkbox\" }, \"Remember me\")}\r\n            \r\n            { captchaUrl && <img src={captchaUrl} />}\r\n            { captchaUrl &&  createField(\"Symbols from image\", \"captcha\", [required], Input) }\r\n            \r\n\r\n            {\r\n            error && \r\n            <div className={classes.formSummaryError}>\r\n                {error}\r\n            </div>\r\n            }\r\n\r\n            <div className={classes.loginBtn}>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm) // <----handleSubmit in props\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return (\r\n        <div className={classes.loginForm}>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm captchaUrl={props.captchaUrl} onSubmit={onSubmit} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl: state.auth.captchaUrl\r\n})\r\n\r\nexport default connect(mapStateToProps, { login })(Login);","import { getAuthUserData } from './auth-reducer';\r\n\r\nconst INITIALIZED_SUCCESS = 'app/INITIALIZED-SUCCESS';\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  let promise = dispatch(getAuthUserData());\r\n  promise.then( () => {\r\n    dispatch(initializedSuccess())\r\n  });\r\n};\r\n\r\nexport default appReducer;","let initialState = {\r\n    friends: [\r\n        { id: 100, name: 'Darya', img: 'https://www.kindpng.com/picc/b/163/1636340.png' },\r\n        { id: 200, name: 'Diana', img: 'https://www.kindpng.com/picc/b/163/1636340.png' },\r\n        { id: 300, name: 'Yuli', img: 'https://www.kindpng.com/picc/b/163/1636340.png' }\r\n    ]\r\n};\r\n\r\nconst sideBarReducer = (state = initialState, action) => {\r\n    \r\n    return state;\r\n};\r\n\r\nexport default sideBarReducer;","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sideBarReducer from \"./sideBar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sideBar: sideBarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nwindow.__store__ = store;\r\nexport default store;","import React, { Suspense } from 'react';\r\nimport Preloader from '../Components/Common/Preloader/Preloader';\r\n\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n            return <Suspense fallback={<Preloader />}>\r\n              <Component {...props} />\r\n            </Suspense>\r\n          }\r\n    };","import React from 'react';\r\nimport classes from './Footer.module.css';\r\n\r\nconst Footer = (props) => {\r\n\r\n  return (\r\n    <footer className={classes.footer}>\r\n      <div>\r\n        Something in the footer 2020\r\n      </div>\r\n    </footer>\r\n  );\r\n\r\n}\r\n\r\nexport default Footer;","import React, { Suspense } from 'react';\nimport './App.css';\nimport HeaderContainer from './Components/Header/HeaderContainer';\nimport Navbar from './Components/Navbar/Navbar';\nimport News from './Components/News/News';\nimport Music from './Components/Music/Music';\nimport Settings from './Components/Settings/Settings';\nimport { Route, withRouter, HashRouter, Switch, Redirect } from 'react-router-dom';\nimport UsersContainer from './Components/Users/UsersContainer';\nimport Login from './Components/Login/Login';\nimport { initializeApp } from './redux/app-reducer';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport Preloader from './Components/Common/Preloader/Preloader';\nimport store from './redux/redux-store';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { withSuspense } from './hoc/withSuspense';\nimport Footer from './Components/Footer/Footer';\n// import DialogsContainer from './Components/Dialogs/DialogsContainer';\n// import ProfileContainer from './Components/Profile/ProfileContainer';\nconst DialogsContainer = React.lazy(() => import('./Components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./Components/Profile/ProfileContainer'));\n\n\nclass App extends React.Component {\n  //global error handle\n  catchAllUnhandledErrors = (promiseRejectionEvent) => {\n    alert(\"Some error occured\");\n  }\n  componentDidMount() {\n    this.props.initializeApp();\n    window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors);\n  }\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />\n    }\n    return (\n      <>\n        <HeaderContainer/>\n        <div className='app-wrapper'>\n          <Navbar />\n\n          <div className='app-wrapper-content'>\n            <Switch>\n              <Route exact path='/' render={() => <Redirect to={'/profile'} />} />\n\n              <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)} />\n\n              <Route path='/dialogs' render={withSuspense(DialogsContainer)} />\n\n              <Route path='/users' render={() => <UsersContainer />} />\n\n              <Route path='/news' render={() => <News />} />\n\n              <Route path='/music' render={() => <Music />} />\n\n              <Route path='/settings' render={() => <Settings />} />\n\n              <Route path='/login' render={() => <Login />} />\n\n              <Route path='*' render={() => <div>404 NOT FOUND</div>} />\n            </Switch>\n          </div>\n          <Footer />\n        </div>\n      </>\n    );\n  }\n}\nconst mapStateToProps = (state) => ({\n\n  initialized: state.app.initialized\n\n})\nconst AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, { initializeApp }))(App);\n\nconst SamuraiJSApp = (props) => {\n  return (\n    <HashRouter>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </HashRouter>\n  )\n}\n\nexport default SamuraiJSApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport SamuraiJSApp from './App';\nimport './index.css';\n\nReactDOM.render(<SamuraiJSApp />,document.getElementById('root'));\n\n\n","import React from 'react';\r\nimport preloader from '../../../assets/images/preloader.svg';\r\n\r\nconst Preloader = (props) => {\r\n    return <div><img src={preloader} /></div>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1BfEJ\",\"headerData\":\"Header_headerData__znWKh\",\"headerSearch\":\"Header_headerSearch__3z_TK\",\"loginBlock\":\"Header_loginBlock__DRZ9P\"};","export const required = value => {\r\n    if (value) return undefined;\r\n\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max Length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__3Eh0r\",\"pageNumbers\":\"Paginator_pageNumbers__Hj5z-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"Users_user__3H5ez\"};","import { usersAPI, profileApi } from '../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst SET_USER_PROFILE = 'profile/SET-USER-PROFILE';\r\nconst SET_STATUS = 'profile/SET-STATUS';\r\nconst DELETE_POST = 'profile/DELETE-POST';\r\nconst SAVE_PHOTO_SUCCESS = 'profile/SAVE-PHOTO-SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, message: \"Hi, how are you?\", likesCount: '15' },\r\n        { id: 2, message: \"It is my first post\", likesCount: '20' },\r\n        { id: 3, message: \"Hi?\", likesCount: '0' },\r\n        { id: 4, message: \"yo yo yo\", likesCount: '12' }\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostBody,\r\n                likesCount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost]\r\n            };\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id != action.postId)\r\n            };\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: { ...state.profile, photos: action.photos }\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//action creators\r\nexport const addPostActionCreator = (newPostBody) => ({\r\n    type: ADD_POST,\r\n    newPostBody\r\n});\r\n\r\nexport const setUserProfileActionCreator = (profile) => ({\r\n    type: SET_USER_PROFILE,\r\n    profile\r\n});\r\n\r\nexport const setStatusActionCreator = (status) => ({\r\n    type: SET_STATUS,\r\n    status\r\n});\r\n\r\nexport const savePhotoSuccess = (photos) => ({\r\n    type: SAVE_PHOTO_SUCCESS,\r\n    photos\r\n});\r\n\r\n\r\nexport const deletePostActionCreator = (postId) => ({\r\n    type: DELETE_POST,\r\n    postId\r\n});\r\n\r\n// Thunks\r\n\r\nexport const getUserProfileThunk = (userId) => async (dispatch) => {\r\n\r\n    const response = await usersAPI.getProfile(userId)\r\n    dispatch(setUserProfileActionCreator(response.data));\r\n};\r\n\r\nexport const getStatusThunk = (userId) => async (dispatch) => {\r\n\r\n    const response = await profileApi.getStatus(userId)\r\n    dispatch(setStatusActionCreator(response.data));\r\n};\r\n\r\nexport const updateStatusThunk = (status) => async (dispatch) => {\r\n    try {\r\n        const response = await profileApi.updateStatus(status)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setStatusActionCreator(status));\r\n        }\r\n    } catch (error) {\r\n        alert(error.message);\r\n    }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n\r\n    const response = await profileApi.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n\r\n    const userId = getState().auth.id;\r\n    const response = await profileApi.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfileThunk(userId));\r\n    } else {\r\n        dispatch(stopSubmit('edit-profile', { _error: response.data.messages[0] }));\r\n        return Promise.reject(response.data.messages[0]);\r\n    }\r\n};\r\nexport default profileReducer;"],"sourceRoot":""}